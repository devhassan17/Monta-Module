<odoo>
    <!-- Every 3 hours: fetch order updates from Monta -->
    <record id="ir_cron_monta_fetch_orders" model="ir.cron">
        <field name="name">Monta: Fetch Order Updates</field>
        <!-- Use a stable, always-present model -->
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="state">code</field>
        <field name="code">model._cron_fetch_orders()</field>
        <field name="interval_number">3</field>
        <field name="interval_type">hours</field>
        <field name="active">True</field>
    </record>

    <!-- Every 3 hours: sync stock levels from Monta -->
    <record id="ir_cron_monta_stock_sync" model="ir.cron">
        <field name="name">Monta: Sync Stock Levels</field>
        <!-- Point to a stable model and call our helper via env -->
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="state">code</field>
        <field name="code">env['monta.stock.sync']._cron_sync_stock()</field>
        <field name="interval_number">3</field>
        <field name="interval_type">hours</field>
        <field name="active">True</field>
    </record>
</odoo>
